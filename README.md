# Домашнее задание к занятию "`Базы данных, их типы`"
# `Островский Евгений`


### Инструкция по выполнению домашнего задания

   1. Сделайте `fork` данного репозитория к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/git-hw или  https://github.com/имя-вашего-репозитория/7-1-ansible-hw).
   2. Выполните клонирование данного репозитория к себе на ПК с помощью команды `git clone`.
   3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
      - впишите вверху название занятия и вашу фамилию и имя
      - в каждом задании добавьте решение в требуемом виде (текст/код/скриншоты/ссылка)
      - для корректного добавления скриншотов воспользуйтесь [инструкцией "Как вставить скриншот в шаблон с решением](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md)
      - при оформлении используйте возможности языка разметки md (коротко об этом можно посмотреть в [инструкции  по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md))
   4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`);
   5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
   6. Любые вопросы по выполнению заданий спрашивайте в чате учебной группы и/или в разделе “Вопросы по заданию” в личном кабинете.
   
Желаем успехов в выполнении домашнего задания!
   
### Дополнительные материалы, которые могут быть полезны для выполнения задания

1. [Руководство по оформлению Markdown файлов](https://gist.github.com/Jekins/2bf2d0638163f1294637#Code)

---

### Задание 1. СУБД

**Кейс**
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

**Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?**

1.1. Бюджетирование проектов с дальнейшим формированием **финансовых аналитических отчётов** и **прогнозирования рисков**. СУБД должна гарантировать **целостность** и **чёткую структуру данных**.

- Здесь подойдут реляционные СУБД, так как они отвечают критериям - целостность (ACID) и чёткая структуры данных

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

- REST API - это не один конкретный протокол взаимодействия, а архитектурный стиль. Он описывает, как разработчику следует спроектировать интерфейс для взаимодействия своего приложения с другими. Главная особенность REST API — обмен сообщениями без сохранения состояния. Каждое сообщение самодостаточное и содержит всю информацию, необходимую для его обработки.

1.2. Под каждый девелоперский проект создаётся отдельный **лендинг**, и все **данные по лидам** стекаются в **CRM** к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для **лендингов и для CRM**? СУБД должны быть **гибкими** и **быстрыми**.

- Быстрые и гибкие СУБД для CRM в данном случае - Документо-ориентированные СУБД - Гибкость - не требующая описания схемы таблиц, быстрота - быстрое заспросы (позволяют индексировать некоторые поля документа для ускорения запросов на основе этих полей)
- Лендинги можно хранить в чем угодно, стандартно, как я понял, используют реляционные СУБД

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

- На просторах нашел вариант хранения лендингов в xml, думаю СУБД как MongoDB c JSON может хранить и лендинги

1.3. Отдел контроля качества решил создать базу по **корпоративным нормам и правилам, обучающему материалу** и так далее, сформированную согласно **структуре компании**. СУБД должна иметь **простую и понятную структуру**.

- Под структуру компании можно взять иерархические СУБД. Обладает просто и понятной древовидной структурой.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

- Да, можно использовать реляционные СУБД, нужно будет вводить дополнительные поля указывающие на родителя и уровень.

1.4. Департамент логистики нуждается в решении задач по **быстрому формированию маршрутов** доставки материалов по объектам и **распределению курьеров по маршрутам** с доставкой документов. СУБД должна уметь **быстро работать со связями**.

- Сетевые или Графовые СУБД (разновидность баз данных с реализацией сетевой модели в виде графа) и далее обходом получать необходимые нам маршруты.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

Получаем минимальные требования по СУБД с маршрутами
- узел - место доставки
- связь - сложность маршрута / время доставки

Эта информация не является приоритетной для отдела закупок и думаю что им лучше сформировать свою СУБД

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

- Можно под все использовать реляционные СУБД, просто изначально надо мпланировать все необходимые таблица и связи. И в некоторых задачах работа будет не быстрой.
- Можно взять например PostgreSQL, + для него есть полезные разрешения.

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

- Ответ: Рассмотрим вариант пополнения счета телефона с карты абонента
- Я выбираю пополнение 500 рублей со своей карты и подтверждаю перевод, далее:
1) Проходит проверка баланса на карте.
2) Баланс уменьшается на 500 рублей.
3) Сохраняется новый баланс (старый баланс -500 рублей).
4) Проходит проверка баланса на счете телефона.
5) Баланс увеличевается на 500 рублей.
6) Сохраняется новый баланс счёта телефона (старый баланс +500 рублей).

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

- Автоплатёж — это автоматический сервис производящий (например раз в месяц) списание со счета абонента на счет услуги.
- Система инициализирут перевод необходимой суммы без моего подтверждения, далее все по пунктам как и в ручном режиме.

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

- Базы данных SQL надежны
- Наличие стандартов
- Независимость от конкретной СУБД
- Реляционная основа языка
- Их поддерживает сильное сообщество разработчиков

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

NewSQL обладает необходимыми технологиями которые есть по отдельности в SQL и NoSQL
- SQL
- ACID
- OLTP
- Горизонтальное масштабирование
- Высокая доступность

---

### Задание 4. Кластеры

4.1 Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин. На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

MongoDB - MapReduce

Для технологий, которые работают с большими данными, базовым принципом считают горизонтальную масштабируемость, то есть возможность обрабатывать данные сразу на множестве узлов (серверов, компьютеров). Если обрабатывать такой массив информации на одном узле, это займет слишком много времени.

Хранение
СУБД — системы управления базами данных, бывают реляционными или нереляционными. Для работы с большими данными чаще используются первые — данные в них организованы в виде таблиц, которые связаны между собой ключами, а для запросов используют специальный язык — SQL. Например, в колоночной СУБД ClickHouse, которую используют в сервисе Яндекс Метрика, все данные о трафике сайтов хранятся в нескольких таблицах. Строки — это события, например просмотры страниц, а колонки — параметры, например переходы с мобильных устройств. Это позволяет за секунды сформировать отчёт о трафике для сайта по нескольким параметрам сразу, поскольку все они расположены в соседних ячейках. 

Многие компании используют нереляционные СУБД. В них данные преобразуются не в связанные друг с другом таблицы, а хранятся по другой, заранее заданной схеме. Это позволяет быстро помещать и извлекать нужную информацию из хранилища, а также запускать высоконагруженные приложения. Допустим, DynamoDB от Amazon — бессерверная СУБД типа NoSQL, которая поддерживает разные языки запросов. Её используют в системах «умного дома», онлайн-играх и рекламных сервисах. 

Обработка
Информацию большого объёма с помощью обычных инструментов обработать будет сложно: на это уйдёт слишком много времени. Для этих задач применяют особое ПО, которое работает по технологии MapReduce. Сначала алгоритм отбирает данные по заданным параметрам, затем распределяет между отдельными узлами, серверами или компьютерами, а потом они одновременно обрабатывают эти сегменты данных, параллельно друг с другом.  

Вот примеры сервисов, которые используют MapReduce:

●	Hadoop — сервис с открытым исходным кодом, позволяющий собирать, хранить и работать с Big Data сразу нескольким специалистам. Он автоматически перераспределяет нагрузку так, чтобы при отказе одного из узлов другие продолжили работать вместо него. 
●	Apache Spark — сервис из нескольких библиотек для работы с потоковыми данными, которые обновляются с высокой скоростью. При этом данные внутри можно фильтровать, обрабатывать и применять для машинного обучения нейросетей. 

Чтобы следить за качеством сбора данных, структурировать их и находить нужное, некоторые компании нанимают специалистов — DWH-аналитиков. 
